/* Basic reset for the editor layout */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Topbar */
#topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;
  padding: 0 12px;
  border-bottom: 1px solid rgba(0,0,0,0.08);
  background: var(--topbar-bg, #fff);
  z-index: 20;
}

/* Layout fills remaining vertical space under topbar */
#layout {
  display: flex;
  height: calc(100vh - 56px);
  min-height: 0; /* critical for flex children to not overflow */
}

/* Left toolbar */
#toolbar {
  width: 56px;
  min-width: 56px;
  border-right: 1px solid rgba(0,0,0,0.06);
  padding: 8px 6px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;
  background: var(--toolbar-bg, #fafafa);
  overflow: auto;
}

/* Workspace contains editor + resizer + sidePanel */
#workspace {
  display: flex;
  flex: 1 1 auto;
  min-width: 0; /* vital to allow textarea to shrink properly */
  align-items: stretch;
  overflow: hidden;
}

/* Editor panel stretches to take available width */
#editorPanel {
  flex: 1 1 auto;
  min-width: 0; /* allows child textarea to shrink inside flex */
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Full-size textarea */
#editor {
  width: 100%;
  height: 100%;
  min-height: 0; /* important inside flex */
  resize: none;
  border: 1px solid rgba(0,0,0,0.06);
  padding: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
  font-size: 14px;
  line-height: 1.45;
  box-sizing: border-box;
  overflow: auto;
}

/* Resizer between editorPanel and sidePanel */
#resizer {
  width: 8px;
  cursor: col-resize;
  background: linear-gradient(90deg, rgba(0,0,0,0.02), rgba(0,0,0,0.04));
  flex: 0 0 8px;
}

/* Side panel (preview/pages/versions) */
#sidePanel {
  width: 360px;            /* default width */
  min-width: 260px;       /* fallback when resized narrow */
  max-width: 70vw;
  border-left: 1px solid rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
  overflow: auto;
  background: var(--sidepanel-bg, #fff);
}

/* Tabs at top of sidePanel */
#tabs {
  display: flex;
  gap: 6px;
  padding: 8px;
  border-bottom: 1px solid rgba(0,0,0,0.04);
}

/* Tab content should scroll internally */
#tabContent {
  padding: 8px;
  overflow: auto;
  flex: 1 1 auto;
}

/* Ensure panels don't cause page to reflow out of view */
* {
  box-sizing: border-box;
}
